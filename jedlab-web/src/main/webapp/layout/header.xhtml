<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:jedlab="http://tasktops.com/ui"
	xmlns:c="http://java.sun.com/jstl/core">


	<!-- Navbar -->
	<ul class="w3-navbar w3-green w3-card-2 w3-top w3-left-align w3-large">
		<li class="w3-hide-medium w3-hide-large w3-opennav w3-right"><a
			class="w3-padding-menu-item w3-hover-white w3-large w3-green"
			href="javascript:void(0);" onclick="navViewport()"
			title="Toggle Navigation Menu"><i class="icon-list"></i></a></li>
		<li><s:link view="/home.xhtml" propagation="none"
				includePageParams="false" styleClass="w3-padding-menu-item w3-darkgreen">
				<h:graphicImage value="/images/logo.png" alt="#{messages['JEDLAB']}"
					height="30" />
			</s:link></li>
		<li class="w3-hide-small">
		
				<s:link propagation="none"
					rendered="#{!identity.loggedIn}"
					includePageParams="false" view="/home.xhtml"
					styleClass="w3-padding-menu-item w3-hover-white"
					value="#{messages['Home']}">
					<i class="icon-home"></i>
				</s:link>
			
				<s:link propagation="none"
					rendered="#{identity.loggedIn and s:hasRole('Student')}"
					includePageParams="false" view="/member/dashboard.xhtml"
					styleClass="w3-padding-menu-item w3-hover-white"
					value="#{messages['Dashboard']}">
					<i class="icon-home"></i>
				</s:link>
				
				<s:link propagation="none"
					rendered="#{identity.loggedIn and s:hasRole('Instructor')}"
					includePageParams="false" view="/instructor/dashboard.xhtml"
					styleClass="w3-padding-menu-item w3-hover-white"
					value="#{messages['Dashboard']}">
					<i class="icon-home"></i>
				</s:link>
				
				
			
		</li>
			
		<s:fragment rendered="#{identity.loggedIn}">
		
		<s:fragment rendered="#{identity.loggedIn and s:hasRole('Admin')}">
		<li class="w3-hide-small">
			<s:link propagation="none"
					rendered="#{identity.loggedIn and s:hasRole('Admin')}"
					includePageParams="false" view="/admin/dashboard.xhtml"
					styleClass="w3-padding-menu-item w3-hover-white"
					value="#{messages['Dashboard']} Admin">
					<i class="icon-home"></i>
				</s:link>	
		</li>
		</s:fragment>
		
		<li class="w3-hide-small">
		
			<s:link propagation="none" rendered="#{identity.loggedIn and s:hasRole('Student')}" 
						styleClass="w3-padding-menu-item w3-hover-white" 
						view="/member/userEdit.xhtml"
						value="#{loginActionManager.currentUsername} #{messages['Welcome']}">
						<i class="icon-user-tie"></i>
			</s:link>
			
			<s:link propagation="none" rendered="#{identity.loggedIn and !s:hasRole('Student')}" 
						styleClass="w3-padding-menu-item w3-hover-white" 						
						value="#{loginActionManager.currentUsername} #{messages['Welcome']}">
						<i class="icon-user-tie"></i>
			</s:link>
			
		
		</li>	
		
		</s:fragment>	
		
			
			
		<li class="w3-hide-small"><s:link propagation="none"
				includePageParams="false" rendered="#{!identity.loggedIn}"
				view="/login.xhtml" styleClass="w3-padding-menu-item w3-hover-white">
				<h:outputText
					value="#{messages['Sign_In']} / #{messages['Register']} " />
				<i class="icon-user-tie"></i>
			</s:link></li>
		<li class="w3-hide-small"><s:link propagation="none"
				includePageParams="false" view="/courseList.xhtml"
				styleClass="w3-padding-menu-item w3-hover-white"
				value="#{messages['Course_List']}">
				<i class="icon-books"></i>
			</s:link></li>
			
			
		<li class="w3-hide-small"><s:link propagation="none"
				includePageParams="false" view="/podcast/podcastList.xhtml"
				styleClass="w3-padding-menu-item w3-hover-white"
				value="#{messages['JEDCast']}">
				<i class="icon-mic"></i> 
			</s:link></li>			
			
			
		<li class="w3-hide-small w3-dropdown-hover">
			<a title="Be Java Champ" class="w3-padding-menu-item w3-hover-white" href="javascript:void(0);">
				<h:outputText value="#{messages['Be_Java']}" />
				<i class="icon-circle-down"></i> 
			</a>
		
		<div class="w3-dropdown-content w3-white w3-card-4">
			
			<s:link propagation="none"
				includePageParams="false" view="/coders/questionList.xhtml"				
				value="#{messages['Java_Challenge']}">
				<i class="icon-book"></i>
			</s:link>
			
			<s:link propagation="none"
				includePageParams="false" view="/gistList.xhtml"
				
				value="#{messages['Gist']}">
				<i class="icon-file-text"></i>
			</s:link>
			
			<s:link propagation="none"
				includePageParams="false" view="/curate/curateList.xhtml"
				
				value="#{messages['JEDLink']}">
				<i class="icon-price-tag"></i>
			</s:link>
			
			<s:link propagation="none"
				includePageParams="false" view="/story/storyList.xhtml"
				
				value="#{messages['JEDLog']}">
				<i class="icon-pencil"></i>
			</s:link>
		
		</div>
		
		</li>	
			
			
			
			 
		<li class="w3-hide-small">
			
			<s:link propagation="none" 
						rendered="#{identity.loggedIn}" action="#{identity.logout()}"
						styleClass="w3-padding-menu-item w3-hover-white">
						<h:outputText
							value="#{messages['Sign_Out']}" />
						<i class="icon-exit"></i>
					</s:link>
		
		</li>	

		<li class="w3-hide-small w3-left" id="searchSection">

			<div class="right-float">
				<jedlab:suggestion placeholder="#{messages['Search']} #{messages['Course']}"
					url="#{_ctx}/course.search" onSelect="redirectToResult"
					value="#{courseQuery.course.name}" forceId="searchInput"
					styleClass="prompt"></jedlab:suggestion>
				<ui:insert name="filter"></ui:insert>	
			</div>
			<div class="left-float"
				style="margin-top: 15px; margin-right: 5px; margin-left: 5px;">
				<s:button type="image" image="#{_ctx}/images/reset.png"
					style="display:inline;cursor: pointer;" rendered="#{not empty courseName}"
					includePageParams="false" view="/courseList.xhtml"
					propagation="none"></s:button>


				<div class="icon-search" onclick="doSearch();"
					style="cursor: pointer; display: inline;"></div>
			</div>

		</li>

	</ul>

	<!-- Navbar on small screens -->
	<div id="navDemo" class="w3-hide w3-hide-large w3-hide-medium w3-top"
		style="margin-top: 51px">
		<ul class="w3-navbar w3-right-align w3-large w3-black">
			<li>
			
			<s:link propagation="none"
				rendered="#{!identity.loggedIn}"
				includePageParams="false" view="/home.xhtml"
				styleClass="w3-padding-menu-item"
				value="#{messages['Home']}">
				<i class="icon-home"></i>
			</s:link>
		
			<s:link propagation="none"
				rendered="#{identity.loggedIn and s:hasRole('Student')}"
				includePageParams="false" view="/member/dashboard.xhtml"
				styleClass="w3-padding-menu-item"
				value="#{messages['Home']}">
				<i class="icon-home"></i>
			</s:link>
			
			<s:link propagation="none"
				rendered="#{identity.loggedIn and s:hasRole('Instructor')}"
				includePageParams="false" view="/instructor/dashboard.xhtml"
				styleClass="w3-padding-menu-item"
				value="#{messages['Home']}">
				<i class="icon-home"></i>
			</s:link>
			
			<s:link propagation="none" 
				rendered="#{identity.loggedIn and s:hasRole('Admin')}"
				includePageParams="false" view="/admin/dashboard.xhtml"
				styleClass="w3-padding-menu-item"
				value="#{messages['Home']} Admin">
				<i class="icon-home"></i>
			</s:link>	
			
			</li>
			<li><s:link propagation="none" includePageParams="false"
					rendered="#{!identity.loggedIn}" view="/login.xhtml"
					styleClass="w3-padding-menu-item">
					<h:outputText
						value="#{messages['Sign_In']} / #{messages['Register']} " />
					<i class="icon-user-tie"></i>
				</s:link></li>
			<li><s:link propagation="none" includePageParams="false"
					view="/courseList.xhtml" styleClass="w3-padding-menu-item"
					value="#{messages['Course_List']}">
					<i class="icon-books"></i>
				</s:link></li>
			<li><s:link propagation="none" includePageParams="false"
					view="/story/storyList.xhtml" styleClass="w3-padding-menu-item"
					value="#{messages['JEDLog']}">
					<i class="icon-pencil"></i>
				</s:link></li>	
			<li><s:link propagation="none" includePageParams="false"
					view="/gistList.xhtml" styleClass="w3-padding-menu-item"
					value="#{messages['Gist']}">
					<i class="icon-file-text"></i>
				</s:link></li>
			<li><s:link propagation="none" includePageParams="false"
					view="/curate/curateList.xhtml" styleClass="w3-padding-menu-item"
					value="#{messages['JEDLink']}">
					<i class="icon-price-tag"></i>
				</s:link></li>
			<li><s:link propagation="none" includePageParams="false"
					view="/podcast/podcastList.xhtml" styleClass="w3-padding-menu-item"
					value="#{messages['JEDCast']}">
					<i class="icon-mic"></i>
				</s:link></li>		
			<li>
				<s:link propagation="none" 
						rendered="#{identity.loggedIn}" action="#{identity.logout()}"
						styleClass="w3-padding-menu-item">
						<h:outputText
							value="#{messages['Sign_Out']}" />
						<i class="icon-exit"></i>
					</s:link>
			</li>	
		</ul>
	</div>



	<script>
// Used to toggle the menu on small screens when clicking on the menu button
function navViewport() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace("w3-show", "");
    }
}

function redirectToResult(event, ui)
{
	location.href = window.location.origin + '#{_ctx}/course/'+ui.item.id;
}

function doSearch()
{
	location.href = window.location.origin + '#{_ctx}/courseList/'+jQuery("#searchInput").val();
}
</script>


	
</ui:composition>
