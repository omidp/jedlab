<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:jedlab="http://tasktops.com/ui"
	xmlns:c="http://java.sun.com/jstl/core">


	<div class="row" id="layout-topbar">
		<div class="col col-10">
			<div class="ui secondary  menu">
				<div id="search-bar">
					<s:button type="image" image="#{_ctx}/images/reset.png"
						style="margin-top: 17px;" 
						rendered="#{not empty courseName}"
						includePageParams="false" view="/courseList.xhtml" propagation="none"></s:button>
					<jedlab:suggestion placeholder="#{messages['Search']}" 
						url="#{_ctx}/course.search" 
						onSelect="redirectToResult"
						value="#{courseQuery.course.name}"
						forceId="searchInput"
						style="direction:rtl;display:inline;"></jedlab:suggestion>
						<script>
							jQuery(document).ready(function(){
								jQuery("#searchInput").on('keyup', function(e){
									if (e.keyCode == 13) { location.href = window.location.origin + '#{_ctx}/courseList.seam?courseName='+jQuery("#searchInput").val(); }
								});
							});
						</script>
						<script>	
							function redirectToResult(event, ui)
							{
								location.href = window.location.origin + '#{_ctx}/course.seam?courseId='+ui.item.id;
							}
						</script>
				</div>
				<div class="right menu">
					<s:link propagation="none" includePageParams="false"
						rendered="#{!identity.loggedIn}" view="/login.xhtml"
						styleClass="ui item locale-direction white">
						<i class="icon-user-tie" style="color: #fff; margin-left: 5px;"></i>
						<h:outputText
							value="#{messages['Sign_In']} / #{messages['Register']} " />
					</s:link>
					
					<s:link propagation="none" 
						rendered="#{identity.loggedIn}" action="#{identity.logout()}"
						styleClass="ui item locale-direction white">
						<i class="icon-exit" style="color: #fff; margin-left: 5px;"></i>
						<h:outputText
							value="#{messages['Sign_Out']}" />
					</s:link>
					
					<s:link propagation="none" includePageParams="false"
						styleClass="ui item" value=" | ">
					</s:link>
					<s:link propagation="none" includePageParams="false"
						view="/courseList.xhtml" styleClass="ui item white"
						value="#{messages['Course_List']}"> 
						<i class="icon-books" style="color: #fff; margin-left: 5px;"></i>
					</s:link>
					<s:link propagation="none" includePageParams="false"
						styleClass="ui item" value=" | ">
					</s:link>
					<s:link propagation="none" includePageParams="false"
						view="/home.xhtml" styleClass="ui item white"
						value="#{messages['Home']}">
						<i class="icon-home" style="color: #fff; margin-left: 5px;"></i>
					</s:link>
					<s:link propagation="none" 
						styleClass="ui item white" rendered="#{identity.loggedIn}"
						view="/member/userEdit.xhtml"
						value="#{loginActionManager.currentUsername} #{messages['Welcome']}">
						<i class="icon-user-tie" style="color: #fff; margin-left: 5px;"></i>
					</s:link>
				</div>
			</div>
		</div>
		<div class="col col-2" id="logo">
			<img class="ui tiny right floated image"
				src="#{_ctx}/images/logo.png" />
			<p id="slogan" >#{messages['JEDLAB']}</p>
		</div>
	</div>





	<script type="text/javascript">
		jQuery(document).ready(function(){
			
		});
	</script>

</ui:composition>
