<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core" template="/layout/layout.xhtml">

	<ui:define name="head">
		<script type="text/javascript" src="#{_ctx}/js/w2ui.js"></script>
		<script type="text/javascript" src="#{_ctx}/js/codemirror.js"> </script>
		<link href="#{_ctx}/css/codemirror.css" rel="stylesheet" />
		<script type="text/javascript" src="#{_ctx}/js/addon/javascript.js"> </script>
		<script type="text/javascript" src="#{_ctx}/js/addon/clike.js"> </script>
		<script type="text/javascript" src="#{_ctx}/js/addon/activeline.js"> </script>
		<script type="text/javascript" src="#{_ctx}/js/addon/matchbrackets.js"> </script>
		<script type="text/javascript" src="#{_ctx}/js/addon/closebrackets.js"> </script>
		<link href="#{_ctx}/css/eclipse.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="#{_ctx}/css/w2ui.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>
		<style>
.tab {
	width: 100%;
	min-height:500px;
	border: 1px solid silver;
	border-top: 0px;
	display: none;
	padding: 10px;
	overflow: auto;
}
</style> 
	</ui:define>

	<ui:define name="body">

		<div class="w3-padding-large"></div>

		<div id="all" style="height: 500px"></div>

		<div id="core-page">
			<div id="editortabs" style="width: 100%;"></div>
			<div id="tab1" class="tab" style="background-color: #fff">
				<br />  
				<h2 class="ui header locale-direction" >
					<div class="content">
						<h:outputText value="#{ideAction.question.title}" />
						<div class="sub header">
							<s:formattedText value="#{ideAction.question.description}"></s:formattedText>
						</div>
					</div>
				</h2>
			</div>
			<div id="tab2" class="tab">
				<h:form id="formCode">
					<h:inputTextarea id="code" value="#{ideAction.code}">

					</h:inputTextarea>
					<h:commandButton value="#{messages['Compile']}"
						action="#{ideAction.compile()}" styleClass="btn btn-yellow w3-margin"
						style="display:none;"
						id="codeBtn" />


					<h:commandButton value="#{messages['Execute']}"
						style="display:none;"
						action="#{ideAction.execute()}" styleClass="btn btn-blue w3-margin"
						id="codeBtnExec" />
						
					<h:commandButton value="#{messages['Share']}"
						style="display:none;"
						action="#{ideAction.share()}" styleClass="btn btn-blue w3-margin"
						id="codeBtnGist" />	
				</h:form>

			</div>

			<div id="tab3" class="tab">
				<div class="ui accordion" id="testCaseAccord"> 

					<c:forEach items="#{ideAction.question.testcases}" var="_tc"
						varStatus="_st" begin="0"
						end="#{ideAction.question.testcases.size()}" step="1">
						<div class="active title w3-dark w3-border-bottom-white">
							<i class="dropdown icon"></i> Test Case #{_st.index+1}
						</div>
						<div class="active content w3-margin-left">
							<div class="ui item">
								<div class="content">
									<div class="header w3-text-grey">#{messages['Input_Params']}</div>
									<div class="description">
										<c:forEach items="#{_tc.inputParams}" var="_input">
											<h:outputText value="#{_input}" />
											<br />
										</c:forEach>
									</div>
								</div>
							</div>

							<div class="ui item">
								<div class="content">
									<div class="header w3-text-grey">#{messages['Result']}</div>
									<div class="description">
										<h:outputText value="#{_tc.result}" />
									</div>
								</div>
							</div>

						</div>
						
						
						

					</c:forEach>
				</div>
			</div>



		</div>
		
		<div id="outputArea" >
		<s:div styleClass="ui error message"
						rendered="#{not empty ideAction.problems}" >
						<div class="header">Errors :</div>
						<ul class="list locale-direction">
							<c:forEach items="#{ideAction.problems}" var="_p">
								<li><h:outputText value="#{_p.message}" /></li>
							</c:forEach>
						</ul>
		</s:div>
		</div>



		<script>
			jQuery(document).ready(function(){

				jQuery('#testCaseAccord')
				  .accordion({
				    selector: {
				      trigger: 'div.title'
				    }
				  });
				
			});
			var descriptionMsg = "#{messages['Description']}";
		</script>

		<script type="text/javascript" src="#{_ctx}/js/ide.js" charset="utf-8"/>

	</ui:define>

</ui:composition>
