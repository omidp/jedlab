<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html" 
    template="/layout/layout.xhtml">

<ui:define name="body">

	<h:form>
		<h:inputText value="#{adminCommentQuery.member.username}" id="memberName" />
		<h:commandButton action="#{webContext.redirectIt()}" value="Search" />
	</h:form>

   <h:dataTable value="#{adminCommentQuery.resultList}" var="_item">
   	
   		<h:column>
   			<f:facet name="header">Course</f:facet>
   			<h:outputText value="#{_item.course.name}" />
   		</h:column>
   		
   		<h:column>
   			<f:facet name="header">Member</f:facet>
   			<h:outputText value="#{_item.member.username}" />
   		</h:column>
   		
   		<h:column>
   			<f:facet name="header">Member Email</f:facet>
   			<h:outputText value="#{_item.member.email}" />
   		</h:column>
   		
   		<h:column>
   			<f:facet name="header">content</f:facet>
   			<s:formattedText value="#{_item.content}"></s:formattedText>
   		</h:column>
   		
   		<h:column>
   			<f:facet name="header">Action</f:facet>
   			<s:link value="Delete" action="#{adminCommentQuery.delete()}" propagation="none" includePageParams="false">
   				<f:param name="commentId" value="#{_item.id}"></f:param>
   			</s:link>
   		</h:column>
   	
   </h:dataTable>
   
   <s:decorate template="/layout/seamPaging.xhtml">
   	<ui:param name="entityList" value="#{adminCommentQuery}" />
   </s:decorate>

 </ui:define>
</ui:composition>
