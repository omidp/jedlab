<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/layout/layout.xhtml">

	<ui:define name="body">
		
		<div class="w3-margin rtl-dir">
		
		<s:div styleClass="ui header" rendered="#{not empty courseId}">
			<h:outputText value="#{messages['Question_List']}" />
			#{' '}
			<h:outputText value="#{courseQuestionHome.course.name}" />
		</s:div>
		
		<br />
		<s:button value="#{messages['Create']} #{' '} #{messages['Question']} " rendered="#{not empty courseId}" 
			view="/admin/courseQuestionEdit.xhtml" propagation="none">
			<f:param name="courseId" value="#{courseId}"></f:param>
		</s:button>
		<br />
		
		<h:dataTable
			styleClass="ui celled table" 
			rendered="#{not empty courseQuestionQuery.resultList}"
			value="#{courseQuestionQuery.resultList}" var="_item">
			 
			<h:column>
				<f:facet name="header">نام دوره</f:facet>
				<s:link  propagation="none" view="/admin/courseQuestionList.xhtml" includePageParams="false" styleClass="w3-text-blue">
					<h:outputText value="#{_item.course.name}" />
					<f:param name="courseId" value="#{_item.course.id}"></f:param>
				</s:link>	
			</h:column>
			
			 
			<h:column>
				<f:facet name="header">سوال</f:facet>
				<s:link value="#{_item.title}" propagation="none" view="/admin/courseQuestionEdit.xhtml" styleClass="w3-text-blue">
					<f:param name="courseId" value="#{_item.course.id}"></f:param>
					<f:param name="questionId" value="#{_item.id}"></f:param>
				</s:link>
			</h:column>
			
			
			
			<h:column>
				<f:facet name="header">Action</f:facet>
				<s:link value="Add Answer" propagation="none" view="/admin/answerEdit.xhtml" includePageParams="false">
					<f:param name="questionId" value="#{_item.id}"></f:param>
				</s:link> 
				#{' - '}
				<s:link value="لیست جواب ها" propagation="none" view="/admin/answerList.xhtml" includePageParams="false">
					<f:param name="questionId" value="#{_item.id}"></f:param>
				</s:link>
			</h:column>
		
		</h:dataTable>
		
		</div>
		
		
		
		<s:decorate template="/layout/seamPaging.xhtml">
			<ui:param name="entityList" value="#{courseQuestionQuery}" />
		</s:decorate>
		
	</ui:define>
</ui:composition>
