<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/layout/layout.xhtml">

	<ui:define name="body">

		<div class="ui grid  w3-padding-top-48">

			<div class="column">
				<h:form>
					<div class="ui header" style="float:left">
						Total users :
						<h:outputText value="#{memberQuery.resultCount}" />
					</div>
					<div  style="float:right">
						<h:commandButton action="#{webContext.redirectIt()}" 
							value="#{messages['Search']}" styleClass="btn btn-blue"/>
						<h:inputText value="#{memberQuery.member.username}" id="username" />
					</div>
				</h:form>
				<h:form>
					<h:dataTable value="#{memberQuery.resultList}" var="_item"
						styleClass="ui celled padded table" width="100%" dir="rtl">

						<h:column>
							<f:facet name="header">username</f:facet>
							<h:outputText value="#{_item.username}" />
						</h:column>

						<h:column>
							<f:facet name="header">email</f:facet>
							<h:outputText value="#{_item.email}" />
						</h:column>


						<h:column>
							<f:facet name="header">Action</f:facet>
							<s:link value="#{_item.active ? 'deactive' : 'active'}"
								action="#{userHome.activateToggle()}" propagation="none"
								>
								<f:param name="memId" value="#{_item.id}"></f:param>
							</s:link>
							#{' '}
							<s:link rendered="#{_item.instructor}" value="#{_item.approvedMember ? 'unapproved' : 'approved'}"
								action="#{userHome.approveToggle()}" propagation="none"
								>
								<f:param name="memId" value="#{_item.id}"></f:param>
							</s:link>
						</h:column>

					</h:dataTable>

				</h:form>

				<s:decorate template="/layout/seamPaging.xhtml">
					<ui:param name="entityList" value="#{memberQuery}" />
				</s:decorate>

			</div>

		</div>



	</ui:define>
</ui:composition>
