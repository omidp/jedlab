<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/layout/layout.xhtml">

	<ui:define name="head">
		
		<style>
			
		</style>
	</ui:define>

	<ui:define name="body">
	
		<div class="w3-content w3-margin-top" style="max-width:1400px;">
			  
			<div class="w3-row-padding">
				
				<div class="w3-third">
					
					<div class="w3-white w3-text-grey w3-card-4">
						<div class="w3-display-container">
							<s:graphicImage value="#{instructorHome.userThumbnailImage}"
								rendered="#{instructorHome.instructor.hasImage}" 
								style="width:100%" alt="#{jedLab.currentUser.username} avatar"></s:graphicImage>
							<h:graphicImage value="/images/image-text.png" rendered="#{!instructorHome.instructor.hasImage}" style="width:100%"/>	
							<div class="w3-display-bottomleft w3-container w3-text-black">
								<h2>
								  <h:outputText value="#{instructorHome.instructor.fullname}" rendered="#{not empty instructorHome.instructor.fullname}"/>
								  <s:link value="#{messages['Edit']}" view="/member/userEdit.xhtml"
								  	propagation="none"
								  	includePageParams="false"  							  	
								  	rendered="#{empty instructorHome.instructor.fullname}"/>	
								</h2>
							</div>
						</div>
						
						<div class="w3-container">
							
							<p>
								<i class="icon-mail w3-margin-right w3-large w3-text-teal"/>
								<h:outputText value="#{instructorHome.instructor.email}" />
							</p>
							
							<p>
								<i class="icon-user w3-margin-right w3-large w3-text-teal"/>
								<h:outputText value="#{instructorHome.instructor.username}" />
							</p>
							
							
							
						</div>
						
					</div>
					<br />
				</div>
				 
				<div class="w3-twothird locale-direction">
					
					<div class="w3-container w3-card-2 w3-white w3-margin-bottom">
					
						<h2 class="w3-text-grey w3-padding-16">
							<i class="icon-books w3-margin-left w3-xxlarge w3-text-teal"></i>
							<s:link value="#{messages['Dashboard_Course']}"
								propagation="none"
								includePageParams="false"
								view="/instructor/courseEdit.xhtml" 
								rendered="#{empty courseQuery.resultList}" />
							<h:outputText value="#{messages['Course_List']}" rendered="#{not empty courseQuery.resultList}"/>
							<s:link 
								styleClass="w3-btn w3-large w3-circle w3-xlarge w3-ripple w3-teal w3-left" 
								value="+" 
								id="createCourseBtn"
								propagation="none"
								view="/instructor/courseEdit.xhtml"  
								includePageParams="false"></s:link>	 
								<script type="text/javascript">
									jQuery(window).load(function(){

										jQuery("#createCourseBtn").popup({ content : "#{messages['Create_Course']}" });

									});
								</script>
						</h2>
						
						<s:fragment rendered="#{not empty courseQuery.resultList}">
							<c:forEach items="#{courseQuery.resultList}" var="_item">
	
								 <div class="w3-card-4 w3-margin">

									<header class="w3-container w3-light-grey">
									  <h3><s:link view="/instructor/courseEdit.xhtml" propagation="none" 
									  		includePageParams="false"
									  		style="text-color:#87CEEB"
										  	value="#{_item.name}">
										  	<f:param name="courseId" value="#{_item.id}"></f:param>
										  </s:link></h3>
										  <s:link 
										  	styleClass="clickableLink"
										  	propagation="none" 
										  	includePageParams="false"
										  	view="/instructor/chapterEdit.xhtml"
										  	value="#{messages['Add']} #{' '} #{messages['Chapter']}"
										  	>
										  	<f:param name="courseId" value="#{_item.id}"></f:param>
										  </s:link>	
									</header>
									
									<div class="w3-container #{_item.active ? '' : 'w3-light-grey'}">
									  <p>	   
									  	<s:span styleClass="w3-right">
										  <h:outputText value="#{messages['Active']}" rendered="#{_item.active}" />
										  <h:outputText value="#{messages['Deactive']}" rendered="#{!_item.active}" styleClass="red" />
									  	</s:span>
										  <s:span styleClass="w3-left">
										  	<h:outputText value="#{messages['Free']}"
													rendered="#{_item.free}" />
												<s:fragment rendered="#{!_item.free}">
														<h:outputText value="#{_item.price}"  
															converter="#{bigDecimalConverter}">
														</h:outputText>
														<h:outputText value="#{' '} #{messages['Toman']}" />
												</s:fragment>
										  </s:span>
										  	
									  </p>  
									  <div style="clear: both;"></div>
									  <hr />
	
									  <s:link view="/instructor/courseEdit.xhtml" includePageParams="false" propagation="none">
									  		<f:param name="courseId" value="#{_item.id}"></f:param>
										  <s:graphicImage value="#{_item.image}" style="height:150px;"
										  		styleClass="w3-right w3-circle"
												rendered="#{_item.hasImage}">
												<s:transformImageSize maintainRatio="true" height="150"></s:transformImageSize>
  										  </s:graphicImage>
			
										  <s:graphicImage value="/images/no_video_photo.png"
										  	styleClass="w3-right w3-circle"
												style="height:150px;" rendered="#{_item.hasImage == false}">
												<s:transformImageSize maintainRatio="true" height="150"></s:transformImageSize>
										  </s:graphicImage>
									  </s:link>
									  <p>
									  	<s:formattedText value="#{_item.description}"></s:formattedText>
									  </p>
									</div>
									
									<s:link styleClass="w3-btn w3-block w3-dark-grey" 
										rendered="#{_item.processInstanceId == null and !_item.active}"
										value="#{messages['Send_For_Activation']}" 
										action="#{workflowAction.sendForActivation()}">
										<f:param name="courseId" value="#{_item.id}"></f:param>
									</s:link>
									
									<s:span styleClass="w3-btn w3-block w3-dark-grey" 
										rendered="#{_item.processInstanceId != null}"
										>
										<h:outputText value="#{messages['In_Progress']}" />
									</s:span>	
									
								</div>
							
							</c:forEach>
						</s:fragment>
						
						
						<s:decorate template="/layout/seamPaging.xhtml"
							rendered="#{not empty courseQuery.resultList}">
							<ui:param name="entityList" value="#{courseQuery}" />
						</s:decorate>
					
					</div>
					
					
					
				</div>
			
			</div>
			
		</div>
		
		<script>
			jQuery(document).ready(function(){
				jQuery("body").addClass("w3-light-grey");
			});
		</script>

		

	</ui:define>
</ui:composition>
