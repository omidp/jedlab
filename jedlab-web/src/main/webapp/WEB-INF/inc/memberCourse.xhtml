<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jstl/core">


	<div class="ui styled fluid accordion" id="courseContent">

		<div class="title active">
			<i class="dropdown icon"></i> General Info
		</div>

		<div class="content active">

			<div class="transition visible">as</div>

		</div>

		<div class="title active">
			<i class="dropdown icon"></i> Chapters
		</div>

		<div class="content active">

			<div class="transition visible">

				<table class="ui celled padded table" dir="rtl">
					<thead>
						<tr>
							<th class="single line">#{messages['Chapter_Name']}</th>
							<th>#{messages['Duration']}</th>
							<th>#{messages['Publish_Date']}</th>
							<th>#{messages['Is_Viewed']}</th>
							<th>#{' '}</th>
						</tr>
					</thead>
					<tbody>

						<c:forEach var="_item"
							items="#{singleMemberCourseQuery.resultList}">
							<tr>
								<td>
									<h2 class="ui center aligned header">#{_item.chapter.name}</h2>
								</td>
								<td class="single line">#{_item.chapter.durationWithformat}</td>
								<td><h:outputText value="#{_item.chapter.createdDate}"
										converter="#{persianDateConverter}" /></td>
								<td><h:outputText value="#{_item.viewed}" /></td>

								<td><span onclick="show_video();">  #{messages['View']} </span></td>

							</tr>
						</c:forEach>

					</tbody>
				</table>

			</div>

		</div>

	</div>


	<div class="ui warning message">
		<i class="close icon"></i>
		<div class="header">You must register before you can do that!</div>
		Visit our registration page, then try again
	</div>
 
	<div class="ui page dimmer" id="videoDimmer">
		<div class="content">
			<div class="center">
			<div onclick="hide_video();">Close</div>
			<div class="ui embed" id="videoEmbed" ></div>
			</div>
		</div>
	</div>



	<script>
		jQuery(document).ready(function(){

			jQuery('#courseContent')
			  .accordion({
			    selector: {
			      trigger: '.title .icon'
			    }
			  });
			var loc = window.location.origin + "#{_ctx}/member/video.seam";
			jQuery.fn.embed.settings.sources = {
					jedlab: {
					    name   : 'jedlab',
					    type   : 'video',
					    icon   : 'video play',
					    domain : window.location.origin,
					    url    : loc,
					    parameters: function(settings) {
					      return {
					        autohide       : !settings.showUI,
					        autoplay       : settings.autoplay,
					        color          : settings.colors || undefined,
					        hq             : settings.hd,
					        jsapi          : settings.api,
					        modestbranding : 1,
					        chapterId: 136
					      };
					    }
					  }
			};

		});

		function show_video()
		{
			jQuery('#videoDimmer')
			  .dimmer('show');
			jQuery('#videoEmbed').embed({
				  source      : 'jedlab',				  
				  placeholder : '/images/bear-waving.jpg'
				});
			
		}

		function hide_video()
		{
			jQuery('#videoDimmer')
			  .dimmer('hide');
		}
	</script>


</ui:composition>
